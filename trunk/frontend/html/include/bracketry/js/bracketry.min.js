const t=(t,e)=>{console.warn(`Incorrect data. %c${t}`,"padding: 0 5px; color: #b90000; background: #ffff81",e)},e=e=>{if(!e.length)return{have_errors:!1,have_critical_error:!1};const n=e.find((t=>t.is_critical));return n?(t(n.message,n.data||""),{have_errors:!0,have_critical_error:!0}):(t(e[0].message,e[0].data||""),{have_errors:!0,have_critical_error:!1})},n=(t,e=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(void 0,r)}),e)}},r=(t,e)=>{let n=!0,r=null;return function o(){var a=this;n?(n=!1,setTimeout((function(){n=!0,r&&o.apply(a)}),e),r?(t.apply(this,r),r=null):t.apply(this,arguments)):r=arguments}},o=(t,e,n)=>Math.max(Math.min(t,n),e),a=t=>"object"==typeof t&&!Array.isArray(t)&&null!==t,i=t=>"number"==typeof t&&!isNaN(t),s=t=>{if("string"!=typeof t)return console.warn("create_element_from_Html expects an html string, instead got: ",t),document.createElement("div");const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild?e.firstElementChild:(console.warn(`create_element_from_Html: failed to create an element from string: "${t}"`),document.createElement("div"))},l=(t,e)=>Array.from(Array(t)).map(((t,n)=>e(n))),c=(t,e)=>{for(let n=0;n<t;n++)e()},d=(t,e,n)=>{const r=document.head.querySelector(`#${t}-${e}`);r&&document.head.removeChild(r),((t,e,n)=>{document.head.insertAdjacentHTML("beforeend",`<style id='${t}-${e}'>${n}</style>`)})(t,e,n)},u=t=>{if(null===t||"object"!=typeof t)return t;let e=new t.constructor;for(let n in t)t.hasOwnProperty(n)&&(e[n]=u(t[n]));return e},p=(t,e)=>{const n=[];return void 0===t||Array.isArray(t)||n.push({is_critical:!0,message:"data.matches must be an array:",data:t}),t&&t.length&&t.forEach((t=>{a(t)||n.push({is_critical:!0,message:"Match must be an object:",data:t}),i(t.roundIndex)||n.push({is_critical:!1,message:'Match must contain a numeric "roundIndex" prop:',data:t}),i(t.order)||n.push({is_critical:!1,message:'Match must contain a numeric "order" prop:',data:t}),void 0===t.sides||Array.isArray(t.sides)||n.push({is_critical:!0,message:"Match.sides is required and must be an array",data:t}),Array.isArray(t.sides)&&t.sides.forEach((r=>{a(r)?(void 0!==r.contestantId&&"string"!=typeof r.contestantId&&n.push({is_critical:!0,message:"If you provide side.contestantId, it must be a string",data:r}),"string"!=typeof r.contestantId||Object.keys(e||{}).includes(r.contestantId)||n.push({is_critical:!1,message:"No contestant data found for this side.contestantId:",data:r}),void 0!==r.isWinner&&"boolean"!=typeof r.isWinner&&n.push({is_critical:!1,message:"If you provide side.isWinner, it must be a boolean",data:r}),void 0===r.scores||Array.isArray(r.scores)||n.push({is_critical:!0,message:"If side.scores is provided, it must be an array",data:r}),Array.isArray(r.scores)&&!r.scores.length&&n.push({is_critical:!1,message:"side.scores is provided but it's an empty array: ",data:r}),Array.isArray(r.scores)&&r.scores.forEach((t=>{n.push(...((t,e)=>{const n=[];return a(t)?(void 0===t.mainScore&&n.push({is_critical:!1,message:'Score must contain a "mainScore" property',data:e}),i(t.mainScore)||"string"==typeof t.mainScore||n.push({is_critical:!1,message:"mainScore must be a number or a string",data:e}),void 0===t.subscore||i(t.subscore)||"string"==typeof t.subscore||n.push({is_critical:!1,message:'If you provide "subscore", it must be a number or a string',data:e}),"boolean"!=typeof t.isWinner&&void 0!==t.isWinner&&n.push({is_critical:!1,message:'If you provide "isWinner", it must be a boolean',data:e})):n.push({is_critical:!1,message:"Score must be an object",data:e}),n})(t,r))})),void 0===r.currentScore||i(r.currentScore)||"string"==typeof r.currentScore||n.push({is_critical:!1,message:"If side.currentScore is provided, it must be a number or string: ",data:r}),void 0!==r.isServing&&"boolean"!=typeof r.isServing&&n.push({is_critical:!1,message:"If side.isServing is provided, it must be a boolean",data:r})):n.push({is_critical:!0,message:"Match's side must be an object",data:t})}))})),n};var h=".bracket-root {\n  \n}\n.bracket-root .navigation-button,\n.bracket-root .scroll-button {\n  justify-content: center;\n  align-items: center;\n  cursor: auto;\n  user-select: none;\n  z-index: 3;\n}\n.bracket-root .navigation-button.active,\n.bracket-root .scroll-button.active {\n  cursor: pointer;\n}\n.bracket-root .navigation-button.active > *,\n.bracket-root .scroll-button.active > * {\n  opacity: 1;\n}\n.bracket-root .navigation-button > *,\n.bracket-root .scroll-button > * {\n  opacity: 0.15;\n}\n.bracket-root .navigation-button {\n  display: grid;\n}\n.bracket-root .navigation-button.left {\n  grid-column: 1;\n}\n.bracket-root .navigation-button.right {\n  grid-column: 5;\n}\n.bracket-root .navigation-button.hidden {\n  display: none;\n}\n.bracket-root svg.default-nav-icon {\n  fill: var(--navButtonSvgColor);\n  box-sizing: content-box;\n  padding: var(--navButtonPadding, 0);\n  width: var(--navButtonArrowSize);\n  height: var(--navButtonArrowSize);\n}\n.bracket-root svg.default-scroll-icon {\n  fill: var(--scrollButtonSvgColor);\n  box-sizing: content-box;\n  padding: var(--scrollButtonPadding, 0);\n  width: var(--scrollButtonArrowSize);\n  height: var(--scrollButtonArrowSize);\n}\n.bracket-root .scroll-button {\n  grid-column: 2/span 2;\n  display: none;\n}\n.bracket-root .scroll-button.button-up {\n  grid-row: 3;\n  border-bottom: 1px solid var(--scrollGutterBorderColor, var(--rootBorderColor));\n}\n.bracket-root .scroll-button.button-down {\n  grid-row: 5;\n  border-top: 1px solid var(--scrollGutterBorderColor, var(--rootBorderColor));\n}\n.bracket-root.with-scroll-buttons-over-matches .scroll-button {\n  border: none;\n  height: 0;\n}\n.bracket-root.with-scroll-buttons-over-matches .button-up {\n  align-items: flex-start;\n}\n.bracket-root.with-scroll-buttons-over-matches .button-down {\n  align-items: flex-end;\n}\n.bracket-root.with-vertical-scroll-buttons .scroll-button {\n  display: flex;\n}\n.bracket-root.with-vertical-scroll-buttons .scrollbar.animated {\n  transition: top 0.3s ease-out, height 0.3s ease-out;\n}\n.bracket-root.with-nav-buttons-before-titles .navigation-button {\n  border-bottom: 1px solid var(--roundTitlesBorderColor, var(--rootBorderColor));\n}\n.bracket-root.with-nav-buttons-before-titles .navigation-button.left {\n  grid-column: 2;\n  justify-content: flex-start;\n}\n.bracket-root.with-nav-buttons-before-titles .navigation-button.right {\n  grid-column: 3;\n  justify-content: flex-end;\n}\n.bracket-root.with-nav-buttons-over-titles .navigation-button {\n  grid-row: 2;\n  width: 0;\n  border: none;\n  position: relative;\n  margin-bottom: 1px; \n}\n.bracket-root.with-nav-buttons-over-titles .navigation-button.left {\n  justify-content: flex-start;\n}\n.bracket-root.with-nav-buttons-over-titles .navigation-button.right {\n  justify-content: flex-end;\n}\n.bracket-root.with-hidden-nav-buttons .navigation-button {\n  display: none !important;\n}\n.bracket-root.with-gutter-nav-buttons .navigation-button {\n  grid-row: 1/-1;\n}\n.bracket-root.with-gutter-nav-buttons .navigation-button.left {\n  border-right: 1px solid var(--navGutterBorderColor, var(--rootBorderColor));\n}\n.bracket-root.with-gutter-nav-buttons .navigation-button.right {\n  border-left: 1px solid var(--navGutterBorderColor, var(--rootBorderColor));\n}\n.bracket-root.with-nav-buttons-over_matches .navigation-button:not(.hidden) {\n  display: flex;\n  border: none;\n  width: 0;\n  position: relative;\n  grid-row: 4;\n}\n.bracket-root.with-nav-buttons-over_matches .navigation-button:not(.hidden) > *:first-child {\n  position: absolute;\n  top: var(--navButtonsTopDistance, 50%);\n  transform: translate(0, -50%);\n}\n.bracket-root.with-nav-buttons-over_matches .navigation-button:not(.hidden).left > *:first-child {\n  left: 0;\n}\n.bracket-root.with-nav-buttons-over_matches .navigation-button:not(.hidden).right > *:first-child {\n  right: 0;\n}",v=".stop-scrolling {\n  height: 100%;\n  overflow: hidden;\n}\n\n.bracket-root {\n  display: grid;\n  \n  grid-template-columns: auto 1fr 1fr 0 auto;\n  grid-template-rows: auto auto auto 1fr auto;\n  min-width: 260px;\n  min-height: 250px;\n  \n  max-width: 100%;\n  width: var(--width);\n  height: var(--height);\n  text-align: left;\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--wrapperBorderColor, var(--rootBorderColor));\n  box-sizing: border-box;\n  font-family: var(--rootFontFamily);\n  background-color: var(--rootBgColor);\n  \n  \n}\n.bracket-root * {\n  box-sizing: border-box;\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  border: none;\n  border-radius: 0;\n  align-content: unset;\n  align-items: unset;\n  align-self: unset;\n  bottom: unset;\n  top: unset;\n  left: unset;\n  right: unset;\n  box-shadow: none;\n  outline: none;\n  text-decoration: none;\n  white-space: initial;\n  line-height: initial;\n}\n.bracket-root .zero-width {\n  width: 0;\n}\n.bracket-root .full-width-grid-column {\n  \n  grid-column: 1/-1;\n}\n.bracket-root .equal-width-columns-grid {\n  \n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: minmax(0, 1fr);\n}\n.bracket-root .round-titles-grid-item {\n  \n  width: 0;\n  min-width: 100%;\n  grid-row: 2;\n  grid-column: 2/span 2;\n  overflow: hidden;\n  padding-bottom: 1px;\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n  border-bottom-color: var(--roundTitlesBorderColor, var(--rootBorderColor));\n  \n}\n.bracket-root .round-titles-wrapper {\n  height: 100%;\n  min-width: 100%;\n  font-size: var(--roundTitlesFontSize);\n  font-family: var(--roundTitlesFontFamily, var(--rootFontFamily));\n  color: var(--roundTitleColor);\n}\n.bracket-root .round-title {\n  padding: var(--roundTitlesVerticalPadding) var(--matchHorMargin);\n  display: flex;\n  overflow: hidden;\n  justify-content: center;\n  white-space: nowrap;\n}\n.bracket-root .matches-scroller {\n  grid-column: 2/span 2;\n  grid-row: 4;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  pointer-events: none;\n  \n  scrollbar-width: none; \n  -ms-overflow-style: none; \n}\n.bracket-root .matches-scroller::-webkit-scrollbar {\n  display: none;\n  \n}\n.bracket-root .matches-scroller.scroll-y-enabled {\n  pointer-events: auto;\n}\n.bracket-root .matches-positioner {\n  position: relative;\n  z-index: 2;\n  display: grid;\n  min-width: 100%;\n  min-height: 100%;\n  grid-template-rows: 100%;\n  overflow: hidden;\n  padding: var(--mainVerticalPadding, 0) 0;\n  font-size: var(--matchFontSize);\n}\n.bracket-root .scrollbar-parent {\n  grid-column: 4;\n  grid-row: 4;\n  position: relative;\n  display: none;\n  z-index: 3;\n}\n.bracket-root .scrollbar-overflow-preventer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: var(--scrollbarWidth);\n  overflow-y: hidden;\n}\n.bracket-root .scrollbar {\n  position: absolute;\n  right: 0;\n  width: 100%;\n  background: var(--scrollbarColor);\n}\n.bracket-root.with-visible-scrollbar .scrollbar-parent {\n  display: block;\n}\n.bracket-root.with-native-scroll .matches-scroller.scroll-y-enabled {\n  overflow-y: scroll;\n}\n.bracket-root.with-vertical-scroll-buttons .matches-positioner.is-scrolling {\n  transition: transform var(--scroll-transition-duration) ease-out;\n}",m=".bracket-root .round-wrapper {\n  position: relative;\n  display: grid;\n  grid-auto-rows: minmax(0, 1fr);\n  align-items: stretch;\n  min-width: 180px;\n  max-width: 100%;\n}\n.bracket-root .round-wrapper:first-of-type .match-lines-area {\n  \n  left: var(--matchHorMargin);\n}\n.bracket-root .round-wrapper:last-of-type .match-lines-area {\n  right: var(--matchHorMargin);\n}\n.bracket-root .round-wrapper.collapsed {\n  visibility: hidden;\n}\n.bracket-root .matches-positioner.is-scrolling * {\n  cursor: auto !important;\n}\n.bracket-root .bronze-round-wrapper {\n  display: flex;\n  overflow: hidden;\n}\n.bracket-root .bronze-round-wrapper .pseudo-round-wrapper {\n  display: grid;\n  grid-auto-rows: minmax(0, 1fr);\n  \n  z-index: 2;\n}\n.bracket-root .bronze-round-wrapper .pseudo-round-wrapper .match-wrapper {\n  padding: 0;\n}\n.bracket-root .bronze-round-wrapper .pseudo-round-wrapper:first-child {\n  width: calc(var(--matchHorMargin) * 1.2);\n  min-width: 0;\n}\n.bracket-root .bronze-round-wrapper .pseudo-round-wrapper:first-child .match-wrapper {\n  padding: 0;\n}\n.bracket-root .bronze-round-wrapper .pseudo-round-wrapper:first-child .match-wrapper .match-lines-area {\n  left: 0;\n  width: 100%;\n}\n.bracket-root .bronze-round-wrapper .pseudo-round-wrapper:first-child .match-wrapper .match-lines-area .line-wrapper {\n  box-shadow: none;\n}\n.bracket-root .bronze-round-wrapper .round-wrapper {\n  flex: 1;\n}\n.bracket-root .bronze-round-wrapper .round-wrapper .match-wrapper {\n  padding-left: calc(var(--matchHorMargin) * 0.3);\n}\n.bracket-root .bronze-round-wrapper .round-wrapper .match-wrapper.even {\n  align-self: end;\n  padding-top: var(--matchMinVerticalGap);\n  padding-bottom: var(--matchMinVerticalGap);\n}\n.bracket-root .bronze-round-wrapper .round-wrapper .match-wrapper.odd {\n  align-self: start;\n  padding-top: calc(var(--matchMinVerticalGap) + var(--matchFontSize) * 1.5);\n  padding-bottom: calc(var(--matchMinVerticalGap) + var(--matchFontSize) * 1.5);\n}\n.bracket-root .bronze-round-wrapper .round-wrapper .match-wrapper.odd .line-wrapper.upper, .bracket-root .bronze-round-wrapper .round-wrapper .match-wrapper.even .line-wrapper.lower {\n  box-shadow: calc(var(--connectionLinesWidth) * -1) 0px 0px 0px;\n}\n.bracket-root .bronze-round-wrapper .round-wrapper .match-wrapper.highlighted .line-wrapper {\n  \n  color: var(--highlightedConnectionLinesColor);\n}\n.bracket-root .match-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  position: relative;\n  min-height: 40px;\n  box-sizing: border-box;\n  padding: calc(var(--matchMinVerticalGap) / 2) var(--matchHorMargin);\n}\n.bracket-root .match-wrapper.odd .line-wrapper.upper {\n  box-shadow: var(--connectionLinesWidth) 0px 0px 0px;\n  border-bottom: var(--connectionLinesWidth) solid var(--connectionLinesColor);\n}\n.bracket-root .match-wrapper.even .line-wrapper.lower {\n  box-shadow: var(--connectionLinesWidth) 0px 0px 0px;\n  border-top: var(--connectionLinesWidth) solid var(--connectionLinesColor);\n}\n.bracket-root .match-wrapper.highlighted .match-status {\n  border-color: var(--highlightedConnectionLinesColor);\n}\n.bracket-root .match-wrapper.highlighted .match-lines-area .line-wrapper {\n  \n  color: var(--highlightedConnectionLinesColor);\n  border-color: var(--highlightedConnectionLinesColor);\n}\n.bracket-root .match-wrapper.last-highlighted .match-lines-area .line-wrapper {\n  color: var(--connectionLinesColor);\n}\n.bracket-root .match-status {\n  display: flex;\n  z-index: 2;\n  align-self: center;\n  transition: border-color 0.1s ease-out;\n  font-size: calc(var(--matchFontSize) * 0.85);\n  padding: calc(var(--matchFontSize) / 6) calc(var(--matchFontSize) / 2);\n  margin: 0 calc(var(--matchFontSize) / 2);\n  border-width: var(--connectionLinesWidth);\n  border-style: solid;\n  border-color: var(--connectionLinesColor);\n  \n  background: #fff;\n  box-shadow: 0 0 0 1000px var(--matchStatusBgColor) inset;\n}\n.bracket-root .match-status:empty {\n  display: none;\n}\n.bracket-root .match-body {\n  display: flex;\n  width: 100%;\n  max-width: var(--matchMaxWidth);\n  justify-content: center;\n  z-index: 2;\n  transition: border-color 0.1s ease-out;\n  pointer-events: auto;\n  border-width: var(--connectionLinesWidth, 2);\n  border-style: solid;\n  border-color: transparent;\n  position: relative;\n}\n.bracket-root .match-body:empty {\n  \n  pointer-events: none;\n}\n.bracket-root .match-body .sides {\n  flex: 1;\n  display: grid;\n  \n  grid-template-rows: minmax(0, 1fr) minmax(0, 1fr);\n  grid-template-columns: minmax(0, 1fr);\n  grid-row-gap: var(--connectionLinesWidth);\n}\n.bracket-root .match-body.live:not(:empty) {\n  border-color: var(--liveMatchBorderColor, var(--rootBorderColor));\n  background-color: var(--liveMatchBgColor);\n}\n.bracket-root .match-body.live:not(:empty) .current-score {\n  border-color: var(--liveMatchBorderColor, var(--rootBorderColor));\n}\n.bracket-root .match-top,\n.bracket-root .match-bottom {\n  position: absolute;\n  left: 0;\n  color: #c1c1c1;\n  padding-left: calc(var(--matchFontSize) / 2);\n  font-size: calc(var(--matchFontSize) * 0.7);\n  width: 100%;\n}\n.bracket-root .match-top {\n  bottom: calc(100% + var(--connectionLinesWidth) + 1px);\n}\n.bracket-root .match-bottom {\n  top: calc(100% + var(--connectionLinesWidth) + 1px);\n}\n.bracket-root .match-lines-area {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  pointer-events: none;\n  z-index: 1;\n}\n.bracket-root .match-lines-area .line-wrapper {\n  \n  flex: 1;\n  transition: color 0.1s ease-out, border-color 0.1s ease-out;\n  \n  color: var(--connectionLinesColor);\n}\n.bracket-root .matches-positioner > .round-wrapper:last-of-type .line-wrapper {\n  \n  color: transparent;\n}\n.bracket-root .side-wrapper {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  pointer-events: auto;\n  padding-top: var(--matchAxisMargin);\n  padding-bottom: var(--matchAxisMargin);\n  padding-right: calc(var(--matchFontSize) / 3 * 2);\n  padding-left: calc(var(--matchFontSize) / 2);\n  \n  color: var(--matchTextColor);\n}\n.bracket-root .side-wrapper.empty-side, .bracket-root .side-wrapper:not([contestant-id]) {\n  pointer-events: none;\n}\n.bracket-root .side-wrapper.highlighted .player-title {\n  color: var(--highlightedPlayerTitleColor);\n}\n.bracket-root .side-wrapper.looser:not(.highlighted) .player-title, .bracket-root .side-wrapper .single-score-wrapper:not(.winner) {\n  opacity: 0.54;\n}\n.bracket-root .side-wrapper:not(.winner) .winner-mark {\n  display: none;\n}\n.bracket-root .side-info-item {\n  display: grid;\n  \n  grid-auto-rows: minmax(0, 1fr);\n  grid-template-columns: auto;\n  align-items: center;\n}\n.bracket-root .side-info-item * {\n  white-space: nowrap;\n  user-select: none;\n}\n.bracket-root .side-info-item.serving-mark {\n  width: calc(var(--matchFontSize) / 2.5);\n  height: calc(var(--matchFontSize) / 2.5);\n  margin-left: calc(var(--distanceBetweenScorePairs) * 0.8);\n  border-radius: 50%;\n  background-color: #b7cf15;\n}\n.bracket-root .side-info-item.serving-mark.hidden {\n  display: none;\n}\n.bracket-root .side-info-item.serving-mark.transparent {\n  opacity: 0;\n}\n.bracket-root .side-info-item.side-scores {\n  grid-auto-flow: column;\n  font-family: var(--scoreFontFamily, var(--rootFontFamily));\n  grid-column-gap: var(--distanceBetweenScorePairs);\n}\n.bracket-root .side-info-item.current-score {\n  border-width: 1px;\n  border-style: solid;\n  text-align: center;\n  border-color: var(--matchTextColor);\n  padding: 0 calc(var(--matchFontSize) / 3);\n  margin-left: calc(var(--distanceBetweenScorePairs) * 0.8);\n}\n.bracket-root .side-info-item.current-score:empty {\n  display: none;\n}\n.bracket-root .side-info-item.entry-status:not(:empty) {\n  margin-right: calc(var(--matchFontSize) / 2);\n}\n.bracket-root .side-info-item.players-info {\n  flex: 1;\n  min-width: 0;\n  grid-row-gap: var(--oneSidePlayersGap);\n}\n.bracket-root .side-info-item.winner-mark {\n  padding-right: var(--distanceBetweenScorePairs);\n}\n.bracket-root .side-info-item.winner-mark svg {\n  fill: var(--matchTextColor, #000000);\n}\n.bracket-root .player-wrapper {\n  display: flex;\n  align-items: center;\n  min-width: 0;\n  overflow: hidden;\n}\n.bracket-root .player-wrapper .nationality {\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n}\n.bracket-root .player-wrapper .nationality:not(:empty) {\n  margin-right: calc(var(--matchFontSize) / 2);\n}\n.bracket-root .player-wrapper .player-title {\n  flex: 1;\n  transition: color 0.1s ease-out, opacity 0.1s ease-out;\n  text-align: left;\n  text-overflow: ellipsis;\n  \n  min-width: 0;\n  overflow: hidden;\n  padding-right: calc(var(--matchFontSize) * 1.5);\n  font-family: var(--playerTitleFontFamily, var(--rootFontFamily));\n}\n.bracket-root .single-score-wrapper {\n  display: flex;\n  overflow: visible;\n  flex-direction: column;\n  align-items: center;\n}\n.bracket-root .single-score-wrapper .side-own-single-score {\n  display: flex;\n}\n.bracket-root .single-score-wrapper .opponent-single-score {\n  display: flex;\n  height: 0;\n  overflow: hidden;\n}\n.bracket-root .subscore {\n  padding-left: 1px;\n  font-size: calc(var(--matchFontSize) / 3 * 2);\n  margin-top: calc(var(--matchFontSize) / 5 * -1);\n  margin-right: calc(var(--matchFontSize) / 5 * -1);\n}\n.bracket-root svg.default-winner-svg {\n  width: auto;\n  height: var(--matchFontSize);\n}\n.bracket-root.with-onMatchClick .match-body:not(:empty) {\n  cursor: pointer;\n}\n.bracket-root.with-onMatchClick .match-body:not(:empty):hover {\n  border-color: var(--hoveredMatchBorderColor, var(--rootBorderColor));\n}\n.bracket-root.with-onMatchClick .match-body:not(:empty):hover .player-title {\n  color: var(--highlightedPlayerTitleColor);\n}\n.bracket-root.with-onMatchClick .match-body:not(:empty) * {\n  \n  pointer-events: none;\n}\n.bracket-root:not(.with-classical-layout) .round-wrapper.collapsed {\n  height: 0;\n  overflow: hidden;\n}\n.bracket-root.with-clickable-sides .side-wrapper {\n  cursor: pointer;\n}\n.bracket-root.with-clickable-sides .side-wrapper:hover .player-title {\n  color: var(--highlightedPlayerTitleColor);\n}";const g=(t,e)=>{if("string"!=typeof e&&null!==e)return;if([...t.querySelectorAll(".side-wrapper.highlighted")].forEach((t=>t.classList.remove("highlighted"))),[...t.querySelectorAll(".match-wrapper.highlighted")].forEach((t=>t.classList.remove("highlighted"))),[...t.querySelectorAll(".match-wrapper.last-highlighted")].forEach((t=>t.classList.remove("last-highlighted"))),null===e||""===e)return;const n=[...t.querySelectorAll(`.side-wrapper[contestant-id="${e}"]`)];n.length&&(n[0].classList.contains("highlighted")||n.reverse().forEach(((t,e)=>{t.classList.add("highlighted");const n=t.closest(".match-wrapper");n.classList.add("highlighted"),0===e&&t.closest(".match-wrapper").classList.add("last-highlighted");const r=t.closest(".bronze-round-wrapper");r&&(r.querySelector(".pseudo-round-wrapper:first-child .match-wrapper")?.classList.add("highlighted"),n.classList.contains("even")?r.querySelector(".pseudo-round-wrapper:nth-child(2) .match-wrapper.even")?.classList.add("highlighted"):r.querySelector(".pseudo-round-wrapper:nth-child(2) .match-wrapper.odd")?.classList.add("highlighted"))})))},b=(t,e)=>{const n=+t.closest(".round-wrapper")?.getAttribute("round-index"),r=+t.closest(".match-wrapper")?.getAttribute("match-order");return e.matches?.find((t=>t.roundIndex===n&&t.order===r))||{roundIndex:+n,order:+r}},f={type:"function_or_null",default_value:null},y={GENERAL_OPTIONS:{width:{type:"string",default_value:"max-content"},height:{type:"string",default_value:"100%"},rootBgColor:{type:"string",default_value:"transparent"},mainVerticalPadding:{type:"pixels",default_value:20,min_value:0},visibleRoundsCount:{type:"number",default_value:0},displayWholeRounds:{type:"boolean",default_value:!1},useClassicalLayout:{type:"boolean",default_value:!1},disableHighlight:{type:"boolean",default_value:!1}},BORDERS_OPTIONS:{rootBorderColor:{type:"string",default_value:"#bbbbbb"},wrapperBorderColor:{type:"string",default_value:""},roundTitlesBorderColor:{type:"string",default_value:""},scrollGutterBorderColor:{type:"string",default_value:""},navGutterBorderColor:{type:"string",default_value:""},liveMatchBorderColor:{type:"string",default_value:"#44c985"},hoveredMatchBorderColor:{type:"string",default_value:""}},ROUND_TITLE_OPTIONS:{getRoundTitleElement:f,roundTitlesVerticalPadding:{type:"pixels",default_value:8},roundTitleColor:{type:"string",default_value:"#000"}},NAVIGATION_OPTIONS:{navButtonsPosition:{type:"select",options:["overMatches","gutters","beforeTitles","overTitles","hidden"],default_value:"gutters"},navButtonSvgColor:{type:"string",default_value:"#161616"},navButtonArrowSize:{type:"pixels",default_value:34},navButtonPadding:{type:"string",default_value:"4px"},leftNavButtonHTML:{type:"multiline_string",default_value:'<svg class="default-nav-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/></svg>'},rightNavButtonHTML:{type:"multiline_string",default_value:'<svg class="default-nav-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>'},navButtonsTopDistance:{type:"string",default_value:"50%"}},SCROLL_OPTIONS:{verticalScrollMode:{type:"select",options:["native","buttons","mixed"],default_value:"native"},buttonScrollAmount:{type:"pixels",default_value:300},resetScrollOnNavigation:{type:"boolean",default_value:!1},scrollButtonsPosition:{type:"select",options:["gutters","overMatches"],default_value:"gutters"},scrollButtonSvgColor:{type:"string",default_value:"#161616"},scrollButtonArrowSize:{type:"pixels",default_value:34},scrollButtonPadding:{type:"string",default_value:"4px"},scrollUpButtonHTML:{type:"multiline_string",default_value:'<svg class="default-scroll-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 16.67l2.829 2.83 9.175-9.339 9.167 9.339 2.829-2.83-11.996-12.17z"/></svg>'},scrollDownButtonHTML:{type:"multiline_string",default_value:'<svg class="default-scroll-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"/></svg>'},showScrollbar:{type:"boolean",default_value:!0},scrollbarWidth:{type:"pixels",default_value:5},scrollbarColor:{type:"string",default_value:"rgb(63 63 63 / 23%)"}},FONTS_OPTIONS:{rootFontFamily:{type:"string",default_value:"Open Sans, Roboto, sans-serif"},roundTitlesFontFamily:{type:"string",default_value:"inherit"},roundTitlesFontSize:{type:"pixels",default_value:22,min_value:8},matchTextColor:{type:"string",default_value:"#000"},matchFontSize:{type:"pixels",default_value:14,min_value:8},playerTitleFontFamily:{type:"string",default_value:"inherit"},highlightedPlayerTitleColor:{type:"string",default_value:"#003ae6"},scoreFontFamily:{type:"string",default_value:"inherit"}},CONNECTION_LINES_OPTIONS:{connectionLinesWidth:{type:"pixels",default_value:2,min_value:0},connectionLinesColor:{type:"string",default_value:"#dcdcdc"},highlightedConnectionLinesColor:{type:"string",default_value:"#7698ff"}},MATCH_OPTIONS:{getMatchElement:f,getMatchTopHTML:f,getMatchBottomHTML:f,getNationalityHTML:f,getEntryStatusHTML:f,getPlayerTitleHTML:f,getScoresHTML:f,matchMaxWidth:{type:"pixels",default_value:1e3},matchMinVerticalGap:{type:"pixels",default_value:25},matchHorMargin:{type:"pixels",default_value:20},matchAxisMargin:{type:"pixels",default_value:4},oneSidePlayersGap:{type:"pixels",default_value:2},liveMatchBgColor:{type:"string",default_value:"transparent"},distanceBetweenScorePairs:{type:"pixels",default_value:14,min_value:0},matchStatusBgColor:{type:"string",default_value:"#fff"}},CALLBACKS:{onMatchClick:f,onMatchSideClick:f}},w=()=>{const t={};return Object.values(y).forEach((e=>Object.assign(t,e))),t},_={"with-scroll-buttons-over-matches":t=>"overMatches"===t.scrollButtonsPosition,"with-hidden-nav-buttons":t=>"hidden"===t.navButtonsPosition,"with-gutter-nav-buttons":t=>"gutters"===t.navButtonsPosition,"with-nav-buttons-over_matches":t=>"overMatches"===t.navButtonsPosition,"with-nav-buttons-before-titles":t=>"beforeTitles"===t.navButtonsPosition,"with-nav-buttons-over-titles":t=>"overTitles"===t.navButtonsPosition,"with-onMatchClick":t=>"function"==typeof t.onMatchClick,"with-classical-layout":t=>!0===t.useClassicalLayout,"with-clickable-sides":t=>"function"==typeof t.onMatchSideClick||!0!==t.disableHighlight,"with-vertical-scroll-buttons":t=>"buttons"===t.verticalScrollMode||"mixed"===t.verticalScrollMode,"with-native-scroll":t=>"native"===t.verticalScrollMode,"with-visible-scrollbar":t=>!0===t.showScrollbar},k=(t,e,{the_root_element:n})=>{const r=e.get_final_value;e.try_merge_options(t),((t,e)=>{t.querySelector(".navigation-button.left").innerHTML=e("leftNavButtonHTML"),t.querySelector(".navigation-button.right").innerHTML=e("rightNavButtonHTML"),t.querySelector(".button-up").innerHTML=e("scrollUpButtonHTML"),t.querySelector(".button-down").innerHTML=e("scrollDownButtonHTML")})(n,r);const o=w(),a=e.get_all_final_options();Object.entries(a).forEach((([t,e])=>{const{type:r}=o[t];if(["pixels","string"].includes(r)){let o=e;"pixels"===r&&(o=parseInt(o)+"px"),n.style.setProperty(`--${t}`,o)}})),Object.entries(_).forEach((([t,e])=>{e(a)?n.classList.add(t):n.classList.remove(t)}))},x=(t,e)=>{console.warn(`Impossible value provided for "${t}" option: %c${JSON.stringify(e,null,2)}%c.\nDefault value of %c${(()=>{const t={};return Object.entries(w()).forEach((([e,{default_value:n}])=>{t[e]=n})),t})()[t]}%c will be used instead`,"background: #c7ffc9; color: black; padding: 0 3px","","background: pink; color: black; padding: 0 3px","")},S=(t,e,n)=>n?!!((t,e)=>{switch(e.type){case"number":case"pixels":return i(t);case"multiline_string":case"string":return"string"==typeof t;case"function_or_null":return"function"==typeof t||null===t;case"boolean":return"boolean"==typeof t;case"select":return e.options?.find((e=>a(e)?e.value===t:e===t))}})(e,n)||(x(t,e),!1):(console.warn(`Unknown option provided: %c${t}`,"background: pink; color: black; font-weight: bold; padding: 0 3px;"),!1),L=(t,e,n)=>{const r=n[t];if(void 0===r)return void console.warn("Impossible option name passed to get_final_value: ",t);const o=e[t],a=void 0!==o?o:r.default_value;return"number"!==r.type&&"pixels"!==r.type||"number"!=typeof r.min_value?a:Math.max(a,r.min_value)},M=(t,e)=>{const n=t.matches_positioner.querySelectorAll(".round-wrapper"),r=e("visibleRoundsCount");if(void 0!==r&&r>=1)return Math.min(n.length,r);{const r=t.matches_scroller.getBoundingClientRect().width/n[0].getBoundingClientRect().width;return isNaN(r)?0:e("displayWholeRounds")?Math.max(1,Math.floor(r)):r}},T=(t,e,n)=>{const r=t.matches_positioner.querySelectorAll(".round-wrapper");return e+1.01*M(t,n)>=r.length},C=(t,e)=>t.matches_positioner.querySelectorAll(".round-wrapper").length-Math.floor(1.01*M(t,e)),B=(t,e,n,r)=>{t.set(t.get());const o=r.get_scrollY_ratio(),a=[...n.matches_positioner.querySelectorAll(".round-wrapper")];a.forEach(((e,n)=>{const r=n>=Math.floor(t.get());e.classList[r?"remove":"add"]("collapsed")})),n.matches_positioner.style.width="max-content";const i=M(n,e),s=100/i*a.length+"%",l=-t.get()*(100/i)+"%";n.matches_positioner.style.width=s,n.matches_positioner.style.marginLeft=l,n.round_titles_wrapper.style.width=s,n.round_titles_wrapper.style.marginLeft=l,r.adjust_offset(o),((t,e,n)=>{const r=T(t,e,n),o=0===e&&r;t.the_root_element.querySelectorAll(".navigation-button.left").forEach((t=>{e>0?t.classList.add("active"):t.classList.remove("active"),o?t.classList.add("hidden"):t.classList.remove("hidden")})),t.the_root_element.querySelectorAll(".navigation-button.right").forEach((t=>{r?t.classList.remove("active"):t.classList.add("active"),o?t.classList.add("hidden"):t.classList.remove("hidden")}))})(n,t.get(),e)},E=(t,e,r)=>{const a=((t,e)=>{let n=0;const r=r=>{n=o(r,0,C(t,e))};return{set:r,try_decrement:()=>r(n-1),try_increment:()=>r(n+1),get:()=>n}})(t,e),i=()=>B(a,e,t,r);i();const s=((t,e)=>{let r=!1;const o=new ResizeObserver(n((()=>{r?t.closest("html")&&e():r=!0})));return o.observe(t),o})(t.matches_scroller,i),l=()=>{a.try_decrement(),i()},c=()=>{T(t,a.get(),e)||(a.try_increment(),i())};return{move_left:l,move_right:c,set_base_round_index:t=>{a.set(t),i()},repaint:i,handle_click:t=>{t.classList.contains("active")&&(t.classList.contains("left")&&l(),t.classList.contains("right")&&c())},get_state:()=>{let n=!1,r=!1,o=0,i=0,s=0;if(Object.keys(t).length){const l=a.get();n=T(t,l,e),r=0===l&&n,o=l,s=C(t,e),i=M(t,e)}return{lastRoundIsFullyVisible:n,allRoundsAreVisible:r,baseRoundIndex:o,maxBaseRoundIndex:s,visibleRoundsCount:i}},uninstall:()=>{s.disconnect()}}},z=t=>i(t)||"string"==typeof t,H=(t,e)=>{if(!z(t?.mainScore)&&!z(e?.mainScore))return"";const n=z(t?.mainScore)?t.mainScore:"",r=z(t?.subscore)?`<span class="subscore">${t.subscore}</span>`:"",o=z(e?.mainScore)?e.mainScore:"",a=z(e?.subscore)?`<span class="subscore">${e.subscore}</span>`:"";return`<div class="single-score-wrapper ${t?.isWinner?"winner":""}">\n            <div class="side-own-single-score">\n                <span class="main-score">${n}</span>\n                ${r}\n            </div>\n            <span class="opponent-single-score">\n                <span class="main-score">${o}</span>\n                ${a}\n            </span>\n        </div>`.replace(/>\s+</g,"><")},A=(t,e,n,r)=>{if("function"==typeof e)try{const t=e(...n);if("string"==typeof t)return t;throw`options.${r} must return a string, instead returned: ${t}`}catch(t){console.warn(`Failed to get a string from ${r}.`,t)}const o=t();return"string"==typeof o?o.trim():""},I=(t,e,n)=>{if("function"==typeof t)try{const r=t(...e);if(r instanceof Element||null===r)return r;throw`options.${n} must return an Element or null, instead returned: ${r}`}catch(t){console.warn(`Failed to get a valid return from ${n}.`,t)}},O=t=>a(t)&&Object.keys(t).length>0,$=(t,e)=>`<div class="player-wrapper">\n        <div class="nationality">${t}</div>\n        <div class="player-title">${e}</div>\n    </div>`,F=(t,e,n,r)=>{const o=t.sides?.[e],i=t.sides?.[1===e?0:1];let s="",c="",d="",p="",h="",v="",m="",g="",b="hidden",f="transparent";if(O(o)){!0===o.isWinner&&(d="winner"),"string"==typeof o.contestantId&&(p=`contestant-id="${o.contestantId}"`),"string"!=typeof o.contestantId&&"string"==typeof o.title&&(v=$("",o.title)),m=A((()=>((t,e)=>{const n=a(t)&&Array.isArray(t.scores)?t.scores:[],r=a(e)&&Array.isArray(e.scores)?e.scores:[],o=Math.max(n.length,r.length);return l(o,(t=>H(n[t],r[t]))).join("")})(o,i)),r("getScoresHTML"),[u(o),u(t)],"getScoresHTML"),void 0!==o.currentScore&&(g=H({mainScore:o.currentScore},{mainScore:i?.currentScore})),!0!==o.isServing&&!0!==i?.isServing||(b=""),!0===o.isServing&&(f="");let e=n.contestants?.[o.contestantId];if(e){let a={roundIndex:t.roundIndex,matchOrder:t.order,contestantId:o.contestantId};const i=n.contestants[a.contestantId].entryStatus;h=A((()=>i),r("getEntryStatusHTML"),[i,a],"getEntryStatusHTML"),v=(e.players||[]).map(((t,e)=>((t,e,n)=>{const r=A((()=>t.nationality),n("getNationalityHTML"),[t,e],"getNationalityHTML"),o=A((()=>t.title),n("getPlayerTitleHTML"),[u(t),e],"getPlayerTitleHTML");return $(r,o)})(t,{...a,playerIndex:e},r))).join("")}}else s="empty-side";return i&&!0===i.isWinner&&(c="looser"),`\n        <div class="side-wrapper ${s} ${c} ${d}"  ${p}>\n            <div class="side-info-item entry-status">${h}</div>\n            <div class="side-info-item players-info">${v}</div>\n            <div class="side-info-item winner-mark"><svg class="default-winner-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path xmlns="http://www.w3.org/2000/svg" d="M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"/></svg></div>\n            <div class="side-info-item side-scores">${m}</div>\n            <div class="side-info-item current-score">${g}</div>\n            <div class="side-info-item serving-mark ${b} ${f}"></div>\n        </div>\n    `},P=(t,e,n,r,o)=>{const a=I(o("getMatchElement"),[n,r],"getMatchElement");if(null===a)return null;const i=s('<div class="match-body"></div>');if(a instanceof Element)return i.append(a),i;if(void 0===t)return null;const l=A((()=>!0===t.isBronzeMatch?'<div style="font-size: 1.6em; color: #000;">3RD PLACE</div>':""),o("getMatchTopHTML"),[t],"getMatchTopHTML");l&&(i.innerHTML+=`<span class="match-top">${l}</span>`);const c=A((()=>""),o("getMatchBottomHTML"),[t],"getMatchBottomHTML");return c&&(i.innerHTML+=`<span class="match-bottom">${c}</span>`),Array.isArray(t.sides)&&t.sides.find(O)&&(i.innerHTML+=`\n            <div class="sides">\n                ${F(t,0,e,o)}\n                ${F(t,1,e,o)}\n            </div>\n        `,!0===t?.isLive&&i.classList.add("live")),"string"==typeof t.matchStatus&&t.matchStatus.length&&(i.innerHTML+=`<div class="match-status">${t.matchStatus}</div>`),i},j=(t,e,n,r)=>{const o=n.matches?.find((n=>n.roundIndex===t&&n.order===e));let a=e%2==0;!0===o?.isBronzeMatch&&(a=!1);const i=s(`\n        <div\n            class="match-wrapper ${a?"even":"odd"}"\n            match-order="${e}"\n        >\n            <div class="match-lines-area">\n                <div class="line-wrapper upper"></div>\n                <div class="line-wrapper lower"></div>\n            </div>\n        </div>\n    `);return i.prepend(P(o,n,t,e,r)||""),i},N=(t,e,n)=>t.rounds.slice(0,e).map(((e,r)=>{const o=document.createElement("div");o.className="round-title";const a=I(n("getRoundTitleElement"),[u(e),r],"getRoundTitleElement");var i,s;return a instanceof Element?o.append(a):o.innerHTML=e.name||(i=t.rounds.length,(s=r)===i-1?"Final":s===i-2?"Semifinals":s===i-3?"Quarterfinals":`1/${Math.pow(2,i-s-1)}`),o})),R=(t,e,n)=>{e.round_titles_wrapper.innerHTML="",(t=>{if(c(t.skippedLastRoundsCount,(()=>t.rounds.push({}))),!t.matches||!t.rounds)return;const e=Math.max(...t.matches.filter((t=>0===t.roundIndex)).map((t=>t.order))),n=Math.ceil(Math.log2(2*e))-t.rounds.length;c(n,(()=>t.rounds.push({})))})(t);const r=t.rounds.length-(t.skippedLastRoundsCount||0);e.round_titles_wrapper.append(...N(t,r,n)),e.matches_positioner.innerHTML="";const o=[];t.rounds.slice(0,r).forEach(((e,r)=>{const a=((t,e,n)=>{const r=s('<div class="round-wrapper"></div>');r.setAttribute("round-index",e);const o=t.rounds.length-1,a=Math.pow(2,o-e),i=l(a,(r=>j(e,r,t,n)));return r.append(...i),e===o&&t.matches?.find((t=>!0===t.isBronzeMatch&&t.roundIndex===o&&1===t.order))&&r.append(j(o,1,t,n)),r})(t,r,n);if(r===t.rounds.length-1&&t.matches?.find((e=>!0===e.isBronzeMatch&&e.roundIndex===t.rounds.length-1&&1===e.order))){const t=s('\n    <div class="bronze-round-wrapper">\n        <div class="pseudo-round-wrapper">\n            <div class="match-wrapper even">\n                <div class="match-lines-area">\n                    <div class="line-wrapper upper"></div>\n                    <div class="line-wrapper lower"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n');t.append(a),o.push(t)}else o.push(a)})),e.matches_positioner.append(...o)},q=(t,e,n)=>{!0===e("showScrollbar")&&(t.scrollbar.style.top=n/t.matches_positioner.clientHeight*100+"%")},W=q,D=(t,e,n)=>{t.scrollbar.classList.add("animated"),q(t,e,n);const r=()=>{t.scrollbar.classList.remove("animated"),t.scrollbar.removeEventListener("transitionend",r)};t.scrollbar.addEventListener("transitionend",r)},G=(t,e,n)=>{if(!0!==e("showScrollbar"))return;const r=t.matches_positioner.clientHeight>t.matches_scroller.clientHeight;t.scrollbar.style.visibility=r?"visible":"hidden",q(t,e,n),(t=>{t.scrollbar.style.height=t.matches_scroller.clientHeight/t.matches_positioner.clientHeight*100+"%"})(t)},V=t=>{if(t.keyCode>=32&&t.keyCode<=40&&!t.shiftKey&&!t.altKey&&!t.ctrlKey)return U(t),!1},U=t=>{t.preventDefault()};var K=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){K=!0}}))}catch(t){}var Y=!!K&&{passive:!1},J="onwheel"in document.createElement("div")?"wheel":"mousewheel";const Q=(t,e)=>{""===t.style.margin?t.style.transform=`translate3d(0, -${Math.floor(e)}px, 0)`:t.style.marginTop=`-${Math.floor(e)}px`},X=(t,e)=>{const n=e.matches_positioner.clientHeight-e.matches_scroller.clientHeight,r=Math.ceil(t)>=Math.floor(n),o=e.the_root_element.querySelector(".button-down"),a=e.the_root_element.querySelector(".button-up");r?o.classList.remove("active"):o.classList.add("active"),Math.floor(t)<=0?a.classList.remove("active"):a.classList.add("active")},Z=n((t=>{t.classList.remove("is-scrolling")}),350),tt=(t,e)=>{let r=0;const{matches_scroller:a,matches_positioner:i}=t;t.the_root_element.style.setProperty("--scroll-transition-duration","0.3s");const s=()=>{i.classList.add("is-scrolling"),W(t,e,a.scrollTop),Z(i)},l=((t,e)=>{if("buttons"===e("verticalScrollMode"))return()=>{};const r=n((t=>{t.classList.add("scroll-y-enabled")}),200),o=()=>{t.classList.contains("scroll-y-enabled")&&t.classList.remove("scroll-y-enabled"),r(t)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)})(a,e),c=n=>{i.classList.add("is-scrolling");const a=i.clientHeight-i.parentElement.clientHeight;r=o(r+n,0,a),Q(i,r),D(t,e,r),X(r,t),Z(i)};let d=()=>{};"mixed"===e("verticalScrollMode")?d=((t,e)=>{const n=n=>{t.classList&&t.classList.contains("matches-scroller")&&!t.classList.contains("scroll-y-enabled")||(n.preventDefault(),e(n.deltaY))};return t.addEventListener("DOMMouseScroll",U,!1),t.addEventListener(J,n,Y),t.addEventListener("keydown",V,!1),()=>{t.removeEventListener("DOMMouseScroll",U,!1),t.removeEventListener(J,n,Y),t.removeEventListener("touchmove",U,Y),t.removeEventListener("keydown",V,!1)}})(a,c):"native"===e("verticalScrollMode")&&(a.classList.add("scroll-y-enabled"),a.addEventListener("scroll",s));const u=((t,e,n)=>{if("native"===e("verticalScrollMode"))return()=>{};const r=t=>{const r=t.target.closest(".scroll-button");if(!r)return;const o=r.classList.contains("button-up"),a=e("buttonScrollAmount");n(o?-a:a)};return t.the_root_element.addEventListener("click",r),()=>{t.the_root_element?.removeEventListener("click",r)}})(t,e,c);return t.the_root_element.addEventListener("mouseenter",(()=>{document.querySelectorAll(".with-vertical-scroll-buttons .matches-positioner").forEach((t=>{t!==i&&(t.classList.contains("is-scrolling")||(t=>{const e=t.style.transform.match(/translate3d\(\s*[^,]+,\s*([^,]+),\s*[^)]+\)/)?.[1];t.style.marginTop=e,t.style.transform=""})(t))})),(t=>{t.style.transform=`translate3d(0, ${t.style.marginTop}, 0)`,t.style.marginTop=""})(i)})),{get_scrollY_ratio:()=>((t,e)=>{const{matches_scroller:n,matches_positioner:r}=t;return((n.scrollTop||e)+n.clientHeight/2)/r.clientHeight})(t,r),adjust_offset:n=>{const a=((t,e,n,r)=>{const{matches_scroller:a,matches_positioner:i}=e;let s;if(!0===n("resetScrollOnNavigation"))s=0;else if(!0===n("useClassicalLayout"))s=r||a.scrollTop;else{const e=i.clientHeight*t;s=o(e-a.clientHeight/2,0,i.clientHeight-a.clientHeight)}return"native"===n("verticalScrollMode")?a.scrollTop=s:(Q(i,s),i.offsetHeight),G(e,n,s),s})(n,t,e,r);"native"!==e("verticalScrollMode")&&(r=a),X(r,t)},uninstall:()=>{a?.removeEventListener("scroll",s),l(),u(),d()}}},et=[],nt=(t,n)=>{const{have_critical_error:r}=e((t=>{if(!a(t))return[{is_critical:!0,message:"Data must be an object, instead got: ",data:t}];if(!Array.isArray(t.rounds))return[{is_critical:!0,message:'Data must contain "rounds" property and it must be an array: ',data:t.rounds}];if(!t.rounds.length&&!t.matches?.length)return[{is_critical:!0,message:"At least one round or one match must be provided"}];const e=[];t.rounds.forEach((t=>{a(t)||e.push({is_critical:!0,message:"data.rounds may contain only objects: ",data:t}),void 0!==t.name&&"string"!=typeof t.name&&e.push({is_critical:!1,message:"round.name must be a string: ",data:t})}));const n=p(t.matches,t.contestants);return e.push(...n),void 0===t.contestants||a(t.contestants)||e.push({is_critical:!0,message:"data.contestants must be an object which maps ids to contestants, instead got: ",data:t.contestants}),a(t.contestants)&&Object.values(t.contestants).forEach((t=>{a(t)||e.push({is_critical:!0,message:"Contestant must be an object, instead got: ",data:t}),void 0!==t.entryStatus&&"string"!=typeof t.entryStatus&&e.push({is_critical:!1,message:"If entryStatus is provided for a contestant, it must be a string: ",data:t}),void 0===t.players?e.push({is_critical:!1,message:"contestant.players is required: ",data:t}):Array.isArray(t.players)?0===t.players.length?e.push({is_critical:!1,message:"contestant.players must contain at least one element: ",data:t}):t.players.forEach((t=>{a(t)||e.push({is_critical:!0,message:"contestant.players array must contain only objects: ",data:t}),"string"!=typeof t.title&&e.push({is_critical:!1,message:"Player must have a title, and it must be a string, instead got: ",data:t}),void 0!==t.nationality&&"string"!=typeof t.nationality&&e.push({is_critical:!1,message:"If nationality is provided for a player, it must be a string: ",data:t})})):e.push({is_critical:!0,message:"contestant.players must be an array: ",data:t})})),e})(n));return!r&&(Object.keys(t).forEach((e=>delete t[e])),Object.assign(t,u(n)),!0)},rt=(t,n,o)=>{let l=!1,c=(()=>{let t={};const e=w();return{try_merge_options:n=>{void 0!==n&&(a(n)?Object.entries(n).forEach((([n,r])=>{const o=e[n];S(n,r,o)&&(t[n]=r)})):console.warn("options must be an object, instead got",typeof n))},get_final_value:n=>L(n,t,e),get_user_options:()=>t,get_all_final_options:()=>{const n={};return Object.keys(e).forEach((r=>{n[r]=L(r,t,e)})),n}}})(),f={};const y={moveToPreviousRound:()=>{},moveToNextRound:()=>{},moveToLastRound:()=>{},setBaseRoundIndex:()=>{},getNavigationState:()=>{},applyNewOptions:()=>{},replaceData:()=>{},applyMatchesUpdates:()=>{},getAllData:()=>u(t||{}),getUserOptions:()=>u(o),highlightContestantHistory:()=>{},uninstall:()=>{},user_wrapper_el:n};if(!(n&&n instanceof Element&&n.closest("html")))return console.warn("Could not install bracket because invalid element is provided: ",n),y;et.forEach((t=>{t.user_wrapper_el===n&&t.uninstall()}));let _=(t=>{d("root","permanent-styles",[h,v,m].join("\n"));const e=s('\n        <div class="bracket-root">\n\n            <div class="navigation-button left"></div>\n            <div class="navigation-button right"></div>\n            <div class="scroll-button button-up"></div>\n            <div class="scroll-button button-down"></div>\n\n            <div class="round-titles-grid-item">\n                <div class="round-titles-wrapper equal-width-columns-grid"></div>\n            </div>\n\n            <div class="scrollbar-parent">\n                <div class="scrollbar-overflow-preventer">\n                    <div class="scrollbar"></div>\n                </div>\n            </div>\n            <div class="matches-scroller scroll-y-enabled">\n                <div class="matches-positioner equal-width-columns-grid"></div>\n            </div>\n\n        </div>\n    ');t.append(e);const n=t=>e.querySelector(t);let r={the_root_element:e,scrollbar:n(".scrollbar"),round_titles_wrapper:n(".round-titles-wrapper"),matches_scroller:n(".matches-scroller"),matches_positioner:n(".matches-positioner")};return{...r,uninstall:()=>{Object.keys(r).forEach((t=>{r[t]instanceof Element&&r[t].remove(),delete r[t]})),r=null}}})(n);k(o,c,_);if(!nt(f,t))return y;l=!0,R(f,_,c.get_final_value);let x=tt(_,c.get_final_value),M=E(_,c.get_final_value,x);const T=((t,e)=>{const n=r(e,300),o=e=>{const r=e.composedPath();r[0]&&r[0]instanceof HTMLImageElement&&r[0].closest(".bracket-root .matches-positioner")===t&&(""===r[0]?.style.width||""===r[0]?.style.height)&&n()};return document.addEventListener("load",o,!0),()=>{document.removeEventListener("load",o,!0)}})(_.matches_positioner,M.repaint);let C=((t,e,n,r)=>{const{the_root_element:o,matches_positioner:a}=n,i=n=>{if(0===n.button)if(n.target.closest(".navigation-button"))r.handle_click(n.target.closest(".navigation-button"));else if(null===e("onMatchClick"))if(null===e("onMatchSideClick"))n.target.closest(".matches-scroller")&&(!0!==e("disableHighlight")&&n.target.closest(".side-wrapper[contestant-id]")?g(a,n.target.closest(".side-wrapper").getAttribute("contestant-id")):g(a,null));else{const r=n.target.closest(".side-wrapper");if(r){const o=b(n.target,t);let a=1;r===n.target.closest(".side-wrapper:first-child")&&(a=0),e("onMatchSideClick")(o,a)}}else if(n.target.classList.contains("match-body")){const r=b(n.target,t);e("onMatchClick")(r)}};return o.addEventListener("click",i),{uninstall:()=>{o?.removeEventListener("click",i)}}})(f,c.get_final_value,_,M),B={moveToPreviousRound:()=>l&&M.move_left(),moveToNextRound:()=>l&&M.move_right(),moveToLastRound:()=>l&&M.set_base_round_index(1/0),setBaseRoundIndex:t=>{if(i(t))return l&&M.set_base_round_index(t);console.warn("setBaseRoundIndex accepts only numbers, instead got: ",t)},getNavigationState:M.get_state,applyNewOptions:t=>{l&&(k((t=>{const e=w(),n={};return a(t)&&Object.entries(t).forEach((([t,r])=>{"function_or_null"===e[t]?.type||"verticalScrollMode"===t?console.warn(`${t} option can't be updated via applyNewOptions`):n[t]=r})),n})(t),c,_),M.repaint())},replaceData:t=>{if(!l)return;nt(f,t)?(R(f,_,c.get_final_value),M.set_base_round_index(0),x.adjust_offset(0),M.repaint()):console.warn("Failed to apply new data")},applyMatchesUpdates:t=>{l&&((t,n,r,o,a)=>{if(!Array.isArray(n.matches))return;if(!Array.isArray(t))return void console.warn("applyMatchesUpdates must be called with an array of matches, instead called with: ",t);const{have_critical_error:s}=e(p(t,n.contestants));if(s)return;const l=r.matches_positioner.querySelector(".side-wrapper.highlighted")?.getAttribute("contestant-id");t.forEach((t=>{if(!i(t.order)||!i(t.roundIndex))return;const e=n.matches.findIndex((e=>e.roundIndex===t.roundIndex&&e.order===t.order));e>-1?n.matches[e]=t:n.matches.push(t);const a=r.the_root_element.querySelector(`.round-wrapper[round-index="${t.roundIndex}"]`)?.querySelector(`.match-wrapper[match-order="${t.order}"]`);if(!a)return;a.querySelector(".match-body")?.remove();const s=P(t,n,t.roundIndex,t.order,o);a.prepend(s||"")})),a(),"string"==typeof l&&l.length&&g(r.matches_positioner,l)})(t,f,_,c.get_final_value,M.repaint)},getAllData:()=>u(f||{}),getUserOptions:()=>u(c?.get_user_options()||{}),highlightContestantHistory:t=>{l&&g(_.matches_positioner,t)},uninstall:()=>l&&(()=>{if(!l)return;T(),C.uninstall(),x.uninstall(),M.uninstall(),_.uninstall(),_=null,c=null,f=null,t=null,C=null,x=null,M=null;const e=et.indexOf(B);e>-1&&et.splice(e,1),B=null,l=!1})(),user_wrapper_el:n};return et.push(B),B};export{rt as createBracket};
